(this.webpackJsonpfouriercanvas=this.webpackJsonpfouriercanvas||[]).push([[0],{10:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(3),o=n.n(c),u=n(1);function i(e){var t=Object(r.useRef)(null),n=e.width,c=e.height,o=e.hide,u=e.addpoint,i={x:n/2,y:c/2},s=Object(r.useRef)(!1),l=Object(r.useRef)(null);Object(r.useEffect)((function(){var r=t.current;r.className=e.className,r.width=n,r.height=c;var a=r.getContext("2d");a.resetTransform(),a.clearRect(0,0,n,c),a.translate(i.x,i.y)}),[n,c]);var f=function(e){var n=t.current.getBoundingClientRect(),r=n.top,a=n.left;return{x:e.clientX-a-i.x,y:e.clientY-r-i.y}},h=function(e){s.current=!1,u(0,0,!0,"new")};return a.a.createElement(a.a.Fragment,null,a.a.createElement("canvas",{ref:t,onMouseMove:function(e){if(s.current){var n=t.current.getContext("2d"),r=f(e),a=r.x,c=r.y;n.beginPath(),n.moveTo(l.current.x,l.current.y),n.lineTo(a,c),l.current={x:a,y:c},n.stroke(),u(a,c,!0)}},onMouseUp:h,onMouseDown:function(e){s.current=!0;var t=f(e),n=t.x,r=t.y;u(n,r,!1),l.current={x:n,y:r}},onMouseLeave:h,style:{display:o?"none":""}}),a.a.createElement("div",{style:{zIndex:50,position:"absolute"}},a.a.createElement("button",{onClick:e.toggleanimation},"Toggle Animation"),a.a.createElement("button",{onClick:function(){u(0,0,!1,"reset");var e=t.current.getContext("2d");e.resetTransform(),e.clearRect(0,0,n,c),e.translate(i.x,i.y)},style:{display:o?"none":""}},"Clear")))}function s(e){var t=e.path,n=void 0===t?[]:t,c=e.animate,o=void 0!==c&&c,i=e.width,s=e.height,l=Object(r.useState)(0),f=Object(u.a)(l,2),h=f[0],v=f[1],g=Object(r.useRef)(null),d=Object(r.useRef)(null),m={x:i/2,y:s/2},x=Object(r.useRef)([]);Object(r.useEffect)((function(){[g,d].forEach((function(t){var n=t.current;n.className=e.className,n.width=i,n.height=s;var r=n.getContext("2d");r.resetTransform(),r.translate(m.x,m.y),r.clearRect(-m.x,-m.y,i,s)}))}),[i,s]),Object(r.useEffect)((function(){g.current.getContext("2d").clearRect(-m.x,-m.y,i,s),M(),v(0)}),[n]),Object(r.useEffect)((function(){var e=null;return o&&n.length>0?e=setInterval((function(){y(),b(),v((function(e){return e+1}))}),Math.min(1e4/n.length,50)):(clearInterval(e),g.current.getContext("2d").clearRect(-m.x,-m.y,i,s),d.current.getContext("2d").clearRect(-m.x,-m.y,i,s)),function(){return clearInterval(e)}}),[o,h]);var b=function(){var e=d.current.getContext("2d"),t=n.length;if(t>1){var r=h%t;switch(r>0){case!1:e.clearRect(-m.x,-m.y,i,s);break;case!0:var a=n[r].connected?(r-1)%t:r;e.beginPath(),e.moveTo(n[a].x,n[a].y),e.lineTo(n[r].x,n[r].y),e.stroke()}}},y=function(){var e=g.current.getContext("2d");e.clearRect(-m.x,-m.y,i,s),e.strokeStyle="#669999";var t=x.current,r=t.length;if(r>1){for(var a=0,c=0,o=n[h%r],u=o.x,l=o.y,f=0;f<r;f++){var v=t[f].norm/r,d=t[f].angle,b=t[f].speed;e.beginPath(),e.arc(a,c,v,0,2*Math.PI),e.stroke(),e.beginPath(),e.moveTo(a,c);var y=2*Math.PI*h*b/r;if(a+=v*Math.cos(d+y),c+=v*Math.sin(d+y),e.lineTo(a,c),e.stroke(),p(a,c,u,l)<5&&f>30)break}e.beginPath(),e.moveTo(a,c),e.lineTo(u,l),e.stroke()}},p=function(e,t,n,r){return Math.sqrt(Math.pow(n-e,2)+Math.pow(r-t,2))},M=function(){for(var e=[],t=n.length,r=0;r<t;r++){for(var a=0,c=0,o=0;o<t;o++){var u=2*Math.PI*r*o/t;a+=n[o].x*Math.cos(u),c-=n[o].x*Math.sin(u),c+=n[o].y*Math.cos(u),a+=n[o].y*Math.sin(u)}var i=Math.sqrt(a*a+c*c),s=Math.atan2(c,a);e.push({norm:i,angle:s,speed:r})}e.sort((function(e,t){return t.norm-e.norm})),x.current=e};return a.a.createElement(a.a.Fragment,null,a.a.createElement("canvas",{ref:g}),a.a.createElement("canvas",{ref:d}))}n(9);o.a.render(a.a.createElement((function(){var e=Object(r.useRef)([]),t=Object(r.useState)(!1),n=Object(u.a)(t,2),c=n[0],o=n[1],l=window.innerWidth,f=window.innerHeight;return a.a.createElement(a.a.Fragment,null,a.a.createElement(i,{className:"top center absolute",width:l,height:f,addpoint:function(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"none";switch(a){case"reset":e.current=[];break;case"new":var c=e.current.slice();e.current=c;break;default:e.current.push({x:t,y:n,connected:r})}},toggleanimation:function(){return o(!c)},hide:c}),a.a.createElement(s,{className:"center absolute",width:l,height:f,animate:c,path:e.current}))}),null),document.getElementById("root"))},4:function(e,t,n){e.exports=n(10)},9:function(e,t,n){}},[[4,1,2]]]);
//# sourceMappingURL=main.f2cd91a7.chunk.js.map